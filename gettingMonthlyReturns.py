# from gettingStockPrices import data
import random
import numpy as np
import matplotlib.pyplot as plt

data = [['2024-08-16', 188.07999999999998], ['2024-07-31', 184.82], ['2024-06-28', 170.99495000000002], ['2024-05-31', 169.04000000000002], ['2024-04-30', 179.27025], ['2024-03-28', 192.18], ['2024-02-29', 183.85], ['2024-01-31', 177.39249999999998], ['2023-12-29', 162.17000000000002], ['2023-11-30', 151.52499999999998], ['2023-10-31', 140.315], ['2023-09-29', 145.76995], ['2023-08-31', 143.74374999999998], ['2023-07-31', 138.0775], ['2023-06-30', 133.6245], ['2023-05-31', 125.30994999999999], ['2023-04-28', 128.585], ['2023-03-31', 126.595], ['2023-02-28', 133.125], ['2023-01-31', 140.07999999999998], ['2022-12-30', 145.2025], ['2022-11-30', 142.215], ['2022-10-31', 127.20325], ['2022-09-30', 124.80000000000001],
        ['2022-08-31', 133.87], ['2022-07-29', 133.5], ['2022-06-30', 138.79], ['2022-05-31', 132.815], ['2022-04-29', 133.39499999999998], ['2022-03-31', 126.89000000000001], ['2022-02-28', 128.815], ['2022-01-31', 133.1965], ['2021-12-31', 125.775], ['2021-11-30', 120.92500000000001], ['2021-10-29', 135.31], ['2021-09-30', 136.675], ['2021-08-31', 140.95499999999998], ['2021-07-30', 141.85444999999999], ['2021-06-30', 147.94], ['2021-05-28', 144.71749999999997], ['2021-04-30', 139.56], ['2021-03-31', 127.9125], ['2021-02-26', 121.235], ['2021-01-29', 124.80000000000001], ['2020-12-31', 124.705], ['2020-11-30', 118.2365], ['2020-10-30', 120.71000000000001], ['2020-09-30', 123.215], ['2020-08-31', 126.31], ['2020-07-31', 123.685]]


def randomizeList(data):
    randData = []
    for i in range(49):
        rem = random.choice(data)
     
        randData.append(rem)
    return randData


def CalcMonthlyReturns(data):
    """calculating the percentage change monthly stock prices"""
    returns = []
    i, j = len(data)-1, len(data)-2
    while j > -1:
        returns.append([data[j][0], ((data[j][1] - data[i][1])/data[i][1])+1])
        j -= 1
        i -= 1
    returns = randomizeList(returns)
    return returns

def randStock(data, inival):
    
    newstock = [inival]
    for i in data:
        newstock.append(newstock[-1]*i)
    return newstock
x = [i for i in range(50)]
fig, axs = plt.subplots()
for j in range(50):
    perc = CalcMonthlyReturns(data)
    y = randStock([i[1] for i in perc], data[0][1])    

    axs.plot(x, y)
plt.show()